<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>My blog Index Page</title>
	<link rel="stylesheet" type="text/css" href="css/index.css"/>
	<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
	<meta name="viewport"
		  content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	<meta name="applicable-device" content="pc,mobile"/>
</head>
<body class="container">
<header class="header">
	<div class="logo">
		<a href="#" target="_self" title="首页">
			<img src="logo.png" alt="慕课网" title="慕课网">
		</a>
	</div>
	<ul class="nav-items">
		<li class="nav-item-active"><a href="#" target="_self">项脊轩志</a></li>
		<li><a href="#" target="_self">岳阳楼记</a></li>
		<li><a href="#" target="_self">过秦论</a></li>
		<li><a href="#" target="_self">滕王阁序</a></li>
		<li>
			<button class="expand-btn ripple"><i class="fa fa-align-justify"></i></button>
		</li>
	</ul> v
</header>
<ul class="nav-items-expend">
	<li><a href="#" target="_self">免费课程</a></li>
	<li><a href="#" target="_self">实战</a></li>
	<li><a href="#" target="_self">猿问</a></li>
	<li><a href="#" target="_self">发现</a></li>
</ul>

<div class="main">
	<nav class="nav">
		<ul class="nav-wrap" id="nav-wrap">
			<li class="nav-item active"><a href="#"> 动态</a></li>
			<li class="nav-item"><a href="#"> 关注</a></li>
			<li class="nav-item"><a href="#"> 分享</a></li>
			<li class="nav-item"><a href="#"> 职场</a></li>
			<li class="nav-item"><a href="#"> 前沿</a></li>
			<li class="nav-item"><a href="#"> 区块链</a></li>
			<li class="nav-item"><a href="#"> 人工智能</a></li>
			<li class="nav-item"><a href="#"> 云计算</a></li>
			<li class="nav-item"><a href="#"> 前端开发</a></li>
			<li class="nav-item"><a href="#"> 后端开发</a></li>
			<li class="nav-item"><a href="#"> 工具资源</a></li>
			<li class="nav-item"><a href="#"> 幽默段子</a></li>
			<li class="nav-item"><a href="#"> 浮生记</a></li>
		</ul>
	</nav>

	<div id="article-container" class="content" style="overflow: hidden">
		<ul class="wrapper">
			<li class="article-wrap animated fadeInLeftBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？
							Maven是一款跨平台的项目管理工具，是一个开源的项目Maven是一款跨平台的项目管理工具，是一个开源的项目Maven是一款跨平台的项目管理工具，是一个开源的项目
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInRightBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInLeftBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInRightBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInLeftBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInRightBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInLeftBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInRightBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInLeftBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
			<li class="article-wrap animated fadeInRightBig">
				<div class="list-pic">
					<a href="#" target="_blank"
					   style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
				</div>

				<i class="daily-recommend">今日推荐</i>
				<div class="list-content">
					<a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
					<a href="#" target="_blank">
						<p>
							什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
							(POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
							Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
						</p>
					</a>
					<div class="list-bottom">
						<div class="list-left">
							<span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
						</div>
						<div class="list-right">
							<span><i class="fa fa-eye"></i>238</span>
							<span><i class="fa fa-thumbs-o-up"></i>88</span>
							<span><i class="fa fa-comments"></i>65</span>
						</div>
					</div>
				</div>
			</li>
		</ul>

		<!--<a href="javascript:void(0);" class="loading-more js-load-more" data-flag="more">点击加载更多</a>-->
	</div>

	<aside class="ads">
		<!--right-->
	</aside>
</div>
<footer class="footer">
	liang
</footer>

<script src="./js/jquery.min.js"></script>
<script src="./js/bscroll.min.js"></script>
<script>
	/*-----公共方法封装Start-----*/
	$.fn.extend({
		//Animate动画
		animateCss: function (animationName, cb) {
			const animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';
			$(this).addClass('animated ' + animationName).one(animationEnd, function () {
				$(this).removeClass('animated ' + animationName).one(animationEnd, function () {

				});
				if (cb) {
					cb();
				}
			});
			return $(this);
		},
		//Better-scroll
		bscroll: function (el, options) {


		}

	});

	/*-----公共方法封装End-----*/

	let $nav = $('.nav-items-expend');
	let $articleContainer = $('#article-container');
	let isLoading = false;
	let hasMoreData = true;
	$(function () {

		//动画飞入效果
		// $articleContainer.find('.article-wrap').animateCss('fadeInLeftBig');

		$('.expand-btn').click(function () {
			$nav.toggle().animateCss('flipInX');
		});

		if (isMobile) {
			//如果是手机端，则开启上拉加载
			let scroll = new BScroll(document.querySelector('#article-container'), {
				click: true,
				scrollbar: {
					fade: true,
					interactive: true // 1.8.0 新增
				},
				pullUpLoad: {
					"threshold": 0
				},
				mouseWheel: {
					speed: 20,
					invert: false
				}
			});
			scroll.on('pullingUp', () => {
				//触发上拉加载
				//判断是否在加载中，如果在加载中则直接结束
				if (isLoading) {
					scroll.finishPullUp();
					return;
				}
				// 加载数据
				isLoading = true;
				showLoading();
				setTimeout(() => {
					fetchMoreData();
					hideLoading();
					scroll.finishPullUp();
				}, 1500);
			});
		} else {
			//网页则开启滚动加载
			$(window).scroll(function () {
				let totalHeight = parseFloat($(window).height()) + parseFloat($(window).scrollTop()); //浏览器的高度加上滚动条的高度
				if ($(document).height() <= totalHeight && hasMoreData) { //当文档的高度小于或者等于总的高度时，开始动态加载数据
					showLoading();
					//加载更多数据
					setTimeout(() => {
						for (let i = 0; i < 10; i++) {
							$('ul.wrapper').append(dataItemTemplate);
						}
						hideLoading();
						hasMoreData = false;
					}, 1500);
				}

			});

//			$('.js-load-more').click(function () {
//				fetchMoreData()
//			});
		}


		// pc端页面左侧导航滑动到顶部后固定住
		if (!isMobile) {
			const $navWrap = $('#nav-wrap');
			const $nav = $('nav.nav');
			$navWrap.attr('otop', $navWrap.offset().top);   //记录原来的距离顶部的距离
			let st;
			$(window).scroll(function () {
				st = Math.max(document.body.scrollTop || document.documentElement.scrollTop);
				if (st > parseInt($navWrap.attr('otop'))) {
					//到达顶点固定住导航栏
					if ($navWrap.css('position') !== 'fixed') {
						$navWrap.css({
							'position': 'fixed',
							top: 50,
							width: $nav.width()
						}).animateCss('fadeInDown');
					}

				} else if ($navWrap.css('position') !== 'static')
					$navWrap.css({
						'position': 'static'
					});
			});

			//点击左侧导航切换页面
			$navWrap.on('click', 'li.nav-item', function () {
				$navWrap.find('li.nav-item').removeClass('active');
				$(this).addClass('active')
			})


			//TODO 设置回到顶部按钮

		}


	});

	function fetchMoreData() {
		for (let i = 0; i < 10; i++) {
			$('ul.wrapper').append(dataItemTemplate).animateCss(i % 2 === 0 ? 'fadeInRightBig' : 'fadeInLeftBig');
		}
	}

	function showLoading() {
		if (!isLoading) {
			isLoading = !isLoading;
			$articleContainer.append(loadingTemplate).find('span.loading').animateCss('zoomIn');
		}
	}
	function hideLoading() {
		let $loading = $articleContainer.find('span.loading');
		$loading.animateCss('zoomOut', function () {
			$loading.remove();
			isLoading = false;
		});
	}

	//判断是否是手机
	const ua = navigator.userAgent;
	const ipad = ua.match(/(iPad).*OS\s([\d_]+)/),
		isIphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/),
		isAndroid = ua.match(/(Android)\s+([\d.]+)/),
		isMobile = isIphone || isAndroid;

	//模板
	const dataItemTemplate = `<li class="article-wrap animated ##animatedClass##">
                    <div class="list-pic">
                        <a href="#" target="_blank"
                           style="background:url('//img3.mukewang.com/5a7bfbc300016b5808640531-200-200.jpg');background-size:cover;"></a>
                    </div>
                    <!--<i class="daily-recommend">今日推荐</i>-->
                    <div class="list-content">
                        <a href="#" target="_blank"><h3>Maven就是这么简单</h3></a>
                        <a href="#" target="_blank">
                            <p>
                                什么是Maven Maven是一个采用纯Java编写的开源项目管理工具, Maven采用了一种被称之为Project Object Model
                                (POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中.. Maven是一款跨平台的项目管理工具，是一个开源的项目...
                                Maven主要服务于基于Java平台的项目构建、依赖管理和项目信息管理... POM怎么理解呢？？？ 我...
                            </p>
                        </a>
                        <div class="list-bottom">
                            <div class="list-left">
                                <span><i class="fa fa-clock-o" aria-hidden="true"></i>6天前</span>
                            </div>
                            <div class="list-right">
                                <span><i class="fa fa-eye"></i>238</span>
                                <span><i class="fa fa-thumbs-o-up"></i>88</span>
                                <span><i class="fa fa-comments"></i>65</span>
                            </div>
                        </div>
                    </div>
                </li>`;

	const loadingTemplate = `<span class="loading"><img src="./loading.gif" width="20" height="20" alt="加载中">玩命加载中。。。</span>`;
</script>
</body>
</html>